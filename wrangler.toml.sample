name = "pokebeach-news-worker"
main = "src/index.js"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]

[triggers]
crons = ["*/30 * * * *"]

[[kv_namespaces]]
binding = "POSTED_ARTICLES"
id = "REPLACE_WITH_KV_NAMESPACE_ID"

[vars]
NEWS_SOURCE_URL = "https://www.pokebeach.com/"
RSS_ENABLED = "false"  # Set to "true" to enable the /feed endpoint

# Set DISCORD_WEBHOOK_URL via: npx wrangler secret put DISCORD_WEBHOOK_URL
# If not set, the worker runs in RSS-only mode